add_namespace = sever

############################
## Severyansk Events
############################

country_event = { #Units and STG leader death
    id = sever.0
	title = sever.0.t
	desc = sever.0.d
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
		SEV = {
			declare_war_on = { 
				target = STG 
				type = annex_everything
			}
			inherit_technology = STG
			hidden_effect = { 
				add_named_threat = {
					threat = 2
					name = SEV_revolt
				}
			}				
		}
	}
	
	option = {
		name = sever.0.a
		load_oob = "SEV_CW"
		load_oob = "SEV_CW_fleet"
		set_country_flag = stg_cw
		STG = { 
			country_event = { 
				id = stalliongrad.999 
				days = 0 
			} 
		}
		SEV = {
			country_event = {
				id = sever.1
				days = 2
			}
		}
	}
}

country_event = { #Severyanan Declaration of independence, fluff piece
    id = sever.1
	title = sever.1.t
	desc = sever.1.d
	fire_only_once = yes
    is_triggered_only = yes
	
	option = {
	    name = sever.1.a
		add_stability = 0.01
		add_political_power = 10
		}
	}

country_event = { #SEV force annex STG to make things easier for an AI
	id = sever.2
	title = sever.2.t 
	desc = sever.2.d
	fire_only_once = yes
	hidden = yes
	
	trigger = {
		original_tag = SEV
		is_ai = yes
		153 = { #Stalliongrad Capital
			is_controlled_by = SEV
		}
	}
		
	mean_time_to_happen = { days = 1 }	
		
	option = {
		name = sever.2.a
        SEV = {
			annex_country = {
				target = STG
				transfer_troops = no
			}
		}		
	}
}

country_event = { #SEV force annex STG if it's a puppet
	id = sever.999
	title = sever.999.t 
	desc = sever.999.d
	fire_only_once = yes
	hidden = yes
	
	trigger = {
			tag = SEV
			STG = {
				is_puppet_of = SEV
			}
		}
	
	mean_time_to_happen = { days = 1 }
		
	option = {
		name = sever.999.a
        SEV = {
			annex_country = {
				target = STG
				transfer_troops = yes
			}
		}
	}
}

		

		
		


country_event = { #Civil war is over, Severyansk won
	id = sever.3
	title = sever.3.t 
	desc = sever.3.d
	
	fire_only_once = yes 
	
	trigger = {
		original_tag = SEV
		SEV = {
			NOT = {
				has_war_with = STG
			}
		}
	}
	
	option = { 
		name = sever.3.a
		add_political_power = 70
		add_ideas = SEV_ebanuy_rot_etogo_parlamenta	
		remove_ideas =  SEV_fuck_commies 
		hidden_effect = {
		set_cosmetic_tag = SEV_POST_CW
		set_party_name = { 
			ideology = neutrality
			long_name = SEV_POST_CIVIL_WAR_long
			name = SEV_POST_CIVIL_WAR
			}
			retire_country_leader = yes
			create_country_leader = {
				name = "Severyan Duma"
				picture = "soa.tga"
				expire = "1965.1.1"
				ideology = despotism
				traits = { 
					provisional
				}
			}
			delete_unit_template_and_units = {
				division_template = "Equestrian Volunteers"
			}
			SEV = {load_focus_tree = SEV_POST_CW_TREE}

		}
	}
	
}

country_event = { #Banning Communism
	id = sever.4
	title = sever.4.t 
	desc = sever.4.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = sever.4.a
	}
}

country_event = { #Decision between coup or elections
	id = sever.5
	title = sever.5.t 
	desc = sever.5.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = sever.5.a
		custom_effect_tooltip = severyan_infighting
		hidden_effect = { 
			country_event = {
				id = sever.6
				days = 10
			}
		}
	}
	
	option = {
		name = sever.5.b
		custom_effect_tooltip = severyan_infighting2
		hidden_effect = { 
			country_event = {
				id = sever.7
				days = 10
			}
		}
	}
}

country_event = { #democratic coalition wins
	id = sever.6
	title = sever.6.t 
	desc = sever.6.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { 
		name = sever.6.a
		remove_ideas = SEV_ebanuy_rot_etogo_parlamenta
		add_popularity = {
			ideology = democratic
			popularity = 0.15
		}
		hidden_effect = {
			set_country_flag = SEV_dem_col
		}
		
	}
}

country_event = { #fascists take control
	id = sever.7
	title = sever.7.t 
	desc = sever.7.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { 
		name = sever.7.a
		set_politics = {
				ruling_party = fascism
				elections_allowed = no
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.2
		}
		set_party_name = {
                ideology = fascism
                long_name = SEV_Baron_party_long
                name = SEV_Baron_party
        }
		remove_ideas = SEV_ebanuy_rot_etogo_parlamenta 		
		hidden_effect = {
			set_country_flag = SEV_fashisty
			set_cosmetic_tag = SEV_barony
		}
		
	}
}

country_event = { #equestrian democrats and cons win 1st elections
	id = sever.8
	title = sever.8.t 
	desc = sever.8.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = sever.8.a
		set_politics = {
            ruling_party = democratic
            elections_allowed = no
        }
		add_popularity = {
                ideology = democratic
                popularity = 0.1
        }
		add_ideas = {coalition_tension}
		#create_country_leader
	}
}

country_event = { #Tsarist restoration
	id = sever.9
	title = sever.9.t 
	desc = sever.9.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = sever.9.a
		create_country_leader = {
			name = "Tsar Peter IV"
			picture = "gfx/leaders/PeterIV.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
			}
		}
		add_popularity = {
                ideology = neutrality
                popularity = 0.05
        }
        set_party_name = {
                ideology = neutrality
                long_name = SEV_monarchist_party_long
                name = SEV_monarchist_party
        }
		hidden_effect = {
			retire_country_leader = yes
			set_politics = {
                ruling_party = neutrality
                elections_allowed = no
            }
			set_cosmetic_tag = SEV_TSARIST
		}
	}
}

country_event = { #democratic coalition dies
	id = sever.10
	title = sever.10.t 
	desc = sever.10.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = sever.10.a
		set_country_flag = secondelections
	}
}

country_event = { #2nd elections
	id = sever.11
	title = sever.11.t 
	desc = sever.11.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = sever.11.a
		set_country_flag = vote_bitch
	}
}

country_event = { #SEV annexation by EQS
	id = sever.12
	title = sever.12.t 
	desc = sever.12.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = sever.12.a
		ai_chance = {
			factor = 50
		}
		EQS = {
			annex_country = {
				target = SEV
				transfer_troops = yes
			}
		}
	}
	option = {
		name = sever.12.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				SEV = {is_ai = no}
			}
		}
		EQS = {
			puppet = SEV
		}
	}
}

country_event = { #Regetns would be done once "Tsar has survived" subpath will be complete
	id = sever.13
	title = sever.13.t 
	desc = sever.13.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = sever.13.a #idk what effects to put in if Tsar survives, maybe buffs, maybe the opposite, we'll decide on that later
		ai_chance = {
			factor = 10
		}
	}
	option = { 
		name = sever.13.b #Tsar is dead, regent Katherine takes his place
		kill_country_leader = yes
		ai_chance = {
			factor = 10
		}
		create_country_leader = {
				name = "Katherine Fertz"
				desc = ""
				picture = "RKatherine.tga"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
				}
			}
	}
	option = { 
		name = sever.13.c #Tsar is dead, regent Von Manschell takes his place
		kill_country_leader = yes
		ai_chance = {
			factor = 85
		}
		create_country_leader = {
				name = "August von Manschell"
				desc = ""
				picture = ""
				expire = "1965.1.1"
				ideology = despotism
				traits = {
				}
			}
	}
}

country_event = { #
	id = sever.14
	title = sever.14.t 
	desc = sever.14.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = sever.14.a
	}
	option = { 
		name = sever.14.b
		
	}
}


		
		
		
